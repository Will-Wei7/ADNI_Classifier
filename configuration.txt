# 脑部MRI图像分类系统配置说明

这个文件说明了各个批处理脚本的参数设置，您可以根据需要修改这些参数。

## 1. 预处理参数 (2_preprocess_data.bat)

- `--data_dir=..\ADNI_dataset`: 原始NIfTI数据的目录
- `--output_dir=..\processed_dataset`: 预处理后PNG图像的保存目录
- `--slice_axis=2`: 切片轴向（0=矢状面, 1=冠状面, 2=横断面/水平面）
- `--visualize`: 启用可视化（生成示例图像）

## 2. 训练参数 (3_train_model.bat)

- `--data_dir=..\processed_dataset`: 预处理后的数据目录
- `--output_dir=.\outputs`: 训练输出目录（模型、日志等）
- `--batch_size=16`: 批次大小
- `--epochs=30`: 训练轮次
- `--transformer_layers=4`: Transformer层数
- `--num_heads=4`: 注意力头数量
- `--patch_size=16`: 图像块大小
- `--projection_dim=64`: 投影维度
- `--learning_rate=0.0001`: 学习率

## 3. 测试参数 (4_test_model.bat)

- `--model_path=.\outputs\vit_run_*\vit_model_final.h5`: 训练好的模型路径
- `--image_dir=..\processed_dataset\test`: 测试图像目录
- `--class_names=AD,CN,MCI`: 类别名称
- `--output_dir=.\predictions`: 预测结果保存目录
- `--output_csv=.\predictions\results.csv`: 预测结果CSV文件
- `--visualize`: 启用结果可视化

## 使用方法

1. 双击运行`1_install_dependencies.bat`安装依赖
2. 双击运行`2_preprocess_data.bat`预处理数据
3. 双击运行`3_train_model.bat`训练模型
4. 双击运行`4_test_model.bat`测试和可视化结果 